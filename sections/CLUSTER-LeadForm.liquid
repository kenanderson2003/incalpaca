



{% for block in section.blocks %}
{% case block.type %}


  {%  when 'iframe' %}

<style>
#form-container-{{ block.id }} {

    position: fixed;
    top: 0;
    left: 0;
    z-index: 99999999999;
    background-color: #fff;
    width: 100%;
    height: 100%;
    align-items: center;
    justify-content: space-between;
    flex-direction: row;
display: none
  
}

.mobile #form-container-{{ block.id }}{
    flex-direction: column;
  
}
  

#cta-form{

    position: fixed;
    top: 0.5rem;
    padding: 0.8rem 1.4rem;
    background-color: #fff;
    z-index: 9999999;
    right: 0.5rem;
    cursor: pointer;
    height: 2.9rem;
  
}

#form-container-{{ block.id }} iframe{

    width: 50%;
    height: 100%;
  
}
.mobile #form-container-{{ block.id }} iframe{

    width: 100%;
    min-height: 1200px;
  
}

  
#cta-close{

    position: fixed;
    top: 0.5rem;
    padding: 0.8rem 1.4rem;
    background-color: #fff;
    z-index: 9999999;
    right: 0.5rem;
    cursor: pointer;
  
}  


#cta-content{

    padding: 10%;
    width: 50%;
  
}

.mobile #cta-content{

    padding: 10% 10%;
    width: 100%;
  
}
  


  
  


  
</style>


  <div id="form-container-{{ block.id }}">


<div id="cta-content">

{{ section.settings.text }}
  
</div>
    

    
    <button id="cta-close">close</button>
    <iframe src="{{ block.settings.iframe }}"></iframe>
  </div>
  <button id="cta-form">Contact</button>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const formContainer = document.getElementById('form-container-{{ block.id }}');
      const contactButton = document.getElementById('cta-form');
      const closeButton = document.getElementById('cta-close');

      contactButton.addEventListener('click', function() {
        formContainer.style.display = 'flex';
      });

      closeButton.addEventListener('click', function() {
        formContainer.style.display = 'none';
      });
    });
  </script>

  

  

{% endcase %}
  

{% endfor %}  



{% schema %}
{
  "name": "CLUSTER LeadForm",
  "settings": [
    {
      "type": "header",
      "content": "Section header"
    },
        
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Use this text to share information about your brand with your customers. Describe a product, share announcements, or welcome customers to your store.</p>"
        }

    
  ],
  "blocks": [
    {
      "type": "iframe",
      "name": "Iframe",
      "settings": [


        {
          "type": "textarea",
          "id": "iframe",
          "label": "Iframe form"
        }

      ]
    }


    
  ],
  "presets": [
    {
      "name": "CLUSTER LeadForm",
      "category": "Advanced layout",
      "blocks": [

      ]
    }
  ]
}
{% endschema %}
