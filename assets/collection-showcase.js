if(!customElements.get("collection-showcase")){class t extends HTMLElement{constructor(){super(),this.selectors={mainContent:".m-collection-showcase__contents",tabs:".m-collection-showcase__tabs"},this.domNodes=queryDomNodes(this.selectors,this),this.mainContent=this.domNodes.mainContent,this.tabItems=this.domNodes.tabs.querySelectorAll("li a"),this.images=this.querySelectorAll(".m-collection-showcase__image"),this.columns=this.dataset.columns,this.templates=this.querySelector("template").content.cloneNode(!0),this.currentIndex=0,this.currentTab=null,this.sectionId=this.dataset.sectionId,this.init()}init(){this.setActiveTab(0),this.tabItems.forEach((t=>{t.addEventListener("mouseover",(t=>this.handleMouseOver(t))),t.addEventListener("touchstart",(t=>this.handleTouchChange(t)))})),Shopify.designMode&&document.addEventListener("shopify:block:select",(t=>{if(t.detail.sectionId!=this.sectionId)return;let{target:e}=t;const s=Number(e.dataset.index);this.setActiveTab(s)}))}setActiveTab(t){let e,s,i,n,a;s=this.tabItems&&this.tabItems[this.currentIndex].parentNode,i=this.tabItems&&this.tabItems[t].parentNode,this.tabItems&&this.tabItems[this.currentIndex].classList.add("active"),n=this.images&&this.images[this.currentIndex],a=this.images&&this.images[t],this.selectedContent=this.templates.querySelector(`[data-index="${t}"]`),this.selectedContent&&this.mainContent.appendChild(this.selectedContent),e=this.selectedContent?this.selectedContent:this.mainContent.querySelector(`[data-index="${t}"]`),s&&s.classList.remove("active"),n&&n.classList.remove("active"),this.currentTab&&this.currentTab.classList.remove("active"),this.tabItems&&this.tabItems[this.currentIndex].classList.remove("active"),i&&i.classList.add("active"),a&&a.classList.add("active"),e&&e.classList.add("active"),this.tabItems&&this.tabItems[t].classList.add("active");const o=e&&e.querySelector(".m-collection-showcase__products");this.initSlider(o),this.currentIndex=t,this.currentTab=e}handleMouseOver(t){let{target:e}=t;const s=Number(e.dataset.index);e.classList.contains("active")||this.setActiveTab(s)}handleTouchChange(t){let{target:e}=t;if(!e.classList.contains("active")){t.preventDefault();const s=Number(e.dataset.index);if(e.classList.contains("active"))return;this.setActiveTab(s)}}initSlider(t){if(!t.dataset.enableSlider)return;const e=t.querySelector(".swiper-container"),s=t.querySelector(".m-slider-controls"),i=s&&s.querySelector(".m-slider-controls__button-prev"),n=s&&s.querySelector(".m-slider-controls__button-next"),a={slidesPerView:parseInt(this.columns),loop:!0,navigation:{nextEl:n,prevEl:i},pagination:!1,threshold:2,on:{init:()=>{setTimeout((()=>{const e=t.querySelector(".m-image")||t.querySelector(".m-placeholder-svg");if(e&&s){const t=e.clientHeight;s.style.setProperty("--offset-top",parseInt(t)/2+"px"),i&&i.classList.remove("m:hidden"),n&&n.classList.remove("m:hidden")}}),200)}}};new MinimogLibs.Swiper(e,a)}}customElements.define("collection-showcase",t)}